<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="adam price" property="og:site_name">
    
    <meta content="configure with xrandr" property="og:title">
    
    
    <meta content="article" property="og:type">
    
    
    <meta content="<h1>maprys.net</h1><h3>ramblings and tech</h3>" property="og:description">
    
    
    <meta content="/2016/04/10/configure-with-xrandr.html" property="og:url">
    
    
    <meta content="2016-04-10T00:00:00-04:00" property="article:published_time">
    <meta content="/about/" property="article:author">
    

    <meta property="og:image" content="">

    
    
    
    
    
    
    <title>configure with xrandr</title>
    <meta name="description" content="Have you ever gone to plug an external monitor into your linux laptop and it didn’t result automatically in more desktop space?This has happened to me recent...">

    <!-- scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous" type="text/javascript"></script>
    <script src="/js/lightbox.js" type="text/javascript"></script>

    <!-- stylesheets -->
    <link rel="stylesheet" href="/css/main.css" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-hQpvDQiCJaD2H465dQfA717v7lu5qHWtDbWNPvaTJ0ID5xnPUlVXnKzq7b8YUkbN" crossorigin="anonymous" type="text/css">
    <link rel="stylesheet" href="/css/lightbox.css" type="text/css">

    <!-- fonts -->
    <link href="/css/overpass.css" rel="stylesheet" type="text/css">
    <link href="/css/overpass-mono.css" rel="stylesheet" type="text/css">

    <link rel="canonical" href="/2016/04/10/configure-with-xrandr.html">

    <!-- rss -->
    <link rel="alternate" type="application/rss+xml" title="adam price" href="/feed.xml">
</head>

    <body>
        <section>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">adam price</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    
                    
                    <li>
                        <a href="/about">
                            who am i
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li>
                        <a href="/video-games">
                            video games
                        </a>
                    </li>
                    
                    
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
</section>

        <section>
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="jumbotron">
        <div class="container">
            <h1 class="post-title-main" itemprop="name headline">
                configure with xrandr
            </h1>
            <p class="post-meta">
                <time datetime="2016-04-10T00:00:00-04:00" itemprop="datePublished">
                    Apr 10, 2016
                </time>
                
            </p>
        </div>
    </div>
    <div class="post-content container" itemprop="articleBody">
        <p>Have you ever gone to plug an external monitor into your linux laptop and it didn’t result automatically in more desktop space?
This has happened to me recently with a fairly old but still useful monitor that I have at home.
Today I’m going to show you that using <code class="language-plaintext highlighter-rouge">xrandr</code> isn’t near as intimidating as it sounds and that you can get your monitor up and running in just a couple commands.</p>

<p>I’ve started working from home a little more recently since I purchased my own home and now have a dedicated office.
The 1920-by-1080 monitor on my laptop is certainly no slouch, but I still miss my two monitors whenever I’m not sitting at my desk at work.
The monitor hooked up to my gaming PC is old, and the resolution isn’t great compared to current standards, but it suits my needs for now.
I decided I’d plug in this monitor for whenever I work from home, giving no thought to it not being plug-and-play because it usually always is.
With laptop powered up, I plug in this Envision.
<strong>Black</strong>.
Maybe it’ll take a couple seconds so I’ll wait.
<strong>Still black</strong>.
Hmm.
The indicator light on the front of the monitor is still on standby-yellow.
Time to figure this out.</p>

<p>At this point, I knew that <code class="language-plaintext highlighter-rouge">xrandr</code> existed and I knew that is was for configuring displays.
Other than that it just sounded intimidating because one thinks <em>there’s no way that manually configuring monitors can be easy</em>.
I spent a while doing some research on the Googles, mostly with links to Stack Overflow and a handful of other sites.
I’ll be explaining my findings here.</p>

<p>First thing we need to do is confirm that the computer realizes a new display has been connected.
Easiest way to do this is to compare the output of <code class="language-plaintext highlighter-rouge">xrandr -q</code> before and after your monitor is connected.
In my case, Fedora 23 sees this Thinkpad’s internal display as <code class="language-plaintext highlighter-rouge">eDP1</code>, and the external display is <code class="language-plaintext highlighter-rouge">DP2-1</code>.</p>

<p>So let’s compare output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ xrandr -q
Screen 0: minimum 8 x 8, current 1920 x 1080, maximum 32767 x 32767
eDP1 connected 1920x1080+0+0 (normal left inverted right x axis y axis) 308mm x 173mm
   1920x1080     60.00*+
   1400x1050     59.98
   1600x900      60.00
   1280x1024     60.02
   1280x960      60.00
   1368x768      60.00
   1280x720      60.00
   1024x768      60.00
   1024x576      60.00
   960x540       60.00
   800x600       60.32    56.25
   864x486       60.00
   640x480       59.94
   720x405       60.00
   640x360       60.00
DP1 disconnected (normal left inverted right x axis y axis)
DP2 disconnected (normal left inverted right x axis y axis)
HDMI1 disconnected (normal left inverted right x axis y axis)
HDMI2 disconnected (normal left inverted right x axis y axis)
VIRTUAL1 disconnected (normal left inverted right x axis y axis)
</code></pre></div></div>

<p>Here is output with the external monitor connected:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ xrandr -q
Screen 0: minimum 8 x 8, current 1920 x 1080, maximum 32767 x 32767
eDP1 connected 1920x1080+0+0 (normal left inverted right x axis y axis) 308mm x 173mm
   1920x1080     60.00*+
   1400x1050     59.98
   1600x900      60.00
   1280x1024     60.02
   1280x960      60.00
   1368x768      60.00
   1280x720      60.00
   1024x768      60.00
   1024x576      60.00
   960x540       60.00
   800x600       60.32    56.25
   864x486       60.00
   640x480       59.94
   720x405       60.00
   640x360       60.00
DP1 disconnected (normal left inverted right x axis y axis)
DP2 disconnected (normal left inverted right x axis y axis)
DP2-1 connected (normal left inverted right x axis y axis)
   1024x768      60.00
   800x600       60.32    56.25
   848x480       60.00
   640x480       59.94
DP2-2 disconnected (normal left inverted right x axis y axis)
DP2-3 disconnected (normal left inverted right x axis y axis)
HDMI1 disconnected (normal left inverted right x axis y axis)
HDMI2 disconnected (normal left inverted right x axis y axis)
VIRTUAL1 disconnected (normal left inverted right x axis y axis)
</code></pre></div></div>

<p>Note the added <code class="language-plaintext highlighter-rouge">DP2-1</code> display, which is our newly connected display.
If <code class="language-plaintext highlighter-rouge">xrandr</code>’s output doesn’t show you a newly connected display, unfortunately this article can assist you no further as troubleshooting a display connection is outside of our scope today.
<a href="http://www.nooooooooooooooo.com/">:(</a></p>

<p>After confirmation of a connected display, next we need to make sure <code class="language-plaintext highlighter-rouge">xrandr</code> has the correct modes for the monitor.
Sadly, in my case, <code class="language-plaintext highlighter-rouge">xrandr</code> had no idea what modes my display supported.
If your desired resolution shows up, then you are great shape, my friend!
You can skip this bit about creating a new display mode and adding it to the monitor.</p>

<p>My conversation with <code class="language-plaintext highlighter-rouge">xrandr</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>me:     Why didn't you auto-detect and configure my display?
XRandR: I think this is a monitor?
        Maybe.
        Pretty sure.
        ¯\_(ツ)_/¯
</code></pre></div></div>

<p>We’re going to use <code class="language-plaintext highlighter-rouge">cvt</code> to give us all the proper information to create a new mode in <code class="language-plaintext highlighter-rouge">xrandr</code>.
The arguments that <code class="language-plaintext highlighter-rouge">cvt</code> needs are (a) the horizonal number of pixels, (b) the vertical number of pixels, and optionally but probably a good idea to include (c) the monitor’s refresh rate, usually 60 Hz.
Let’s run it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cvt 1680 1050 60
# 1680x1050 59.95 Hz (CVT 1.76MA) hsync: 65.29 kHz; pclk: 146.25 MHz
Modeline "1680x1050_60.00"  146.25  1680 1784 1960 2240  1050 1053 1059 1089 -hsync +vsync
</code></pre></div></div>

<p>Taking that output, we feed it straight into <code class="language-plaintext highlighter-rouge">xrandr</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ xrandr --newmode "1680x1050" 146.25  1680 1784 1960 2240  1050 1053 1059 1089 -hsync +vsync
</code></pre></div></div>

<p>Looking good, but we’re not done yet so don’t leave.
That mode that we just created exists now, but <code class="language-plaintext highlighter-rouge">xrandr</code> needs to know that this new mode belongs to our monitor.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># xrandr --addmode MODE_NAME DISPLAY_NAME
$ xrandr --addmode 1680x1050 DP2-1
</code></pre></div></div>

<p>After all that, now we’re ready to actually tell the monitor to display using that mode.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ xrandr --output DP2-1 --mode 1680x1050
</code></pre></div></div>

<p>At this point, hopefully you’ll at least be seeing something on the monitor.
We have the monitor working with linux now, which is great.
At this point we’re just tweaking the placement.
<code class="language-plaintext highlighter-rouge">xrandr</code> has options for relative placement (<code class="language-plaintext highlighter-rouge">--above</code>, <code class="language-plaintext highlighter-rouge">--below</code>, <code class="language-plaintext highlighter-rouge">--right-of</code>, <code class="language-plaintext highlighter-rouge">--left-of</code>), as well as absolute pixel placement (<code class="language-plaintext highlighter-rouge">--pos</code>).
In my case I needed <code class="language-plaintext highlighter-rouge">--above</code> to get this external monitor where I wanted it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ xrandr --output DP2-1 --above eDP1
</code></pre></div></div>

<p>And there you have it.
That is how I managed to manually configure my displays.
I learned a lot about <code class="language-plaintext highlighter-rouge">xrandr</code> during this whole process.
At the same time, I’m sure there’s still so much more to <code class="language-plaintext highlighter-rouge">xrandr</code> than what I uncovered here.
I now have a <strong>huge</strong> respect for plug-and-play monitor support because it’s wonderful to simply plug in a monitor and see it working correctly in a couple seconds.
Kudos to you, whoever you are that makes that possible.</p>

<p>I hope that this information is helpful to someone along the way as they’re googling when their monitor shows up as blank.
I’d love to be able to get this stuff to apply automatically whenever I plug this monitor in.
I’ve not figured that out yet.
If you know how to do that, holler at me.
Until next time friends, multi-monitor on!</p>


    </div>
</article>

        </section>
        <nav class="navbar navbar-default navbar-fixed-bottom">
    <div class="container footer-content">
        copyright <i class="fa fa-copyright"></i> 2021 m. adam price<br>
        powered by <a href="https://pages.github.com">github-pages</a>
    </div>
</nav>

    </body>
</html>
